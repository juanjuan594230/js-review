## 宿主环境

小程序的运行环境分为渲染层和逻辑层；其中WXML和WXSS工作在渲染层、JS脚本工作在逻辑层。

小程序的喧嚷层和逻辑层是由两个不同的线程管理（这一点与浏览器的单线程不一样）。

渲染层界面使用webView线程进行渲染；逻辑层采用JSCore线程运行脚本。这两个线程的通信会通过微信客户端（native）做中转。逻辑层发送网络请求也是由客户端做中转。

一个小程序存在多个页面，因此渲染层存在多个WebView线程。

![](../images/wx-mini-project/小程序通信.png)

## 注册


